{"version":3,"file":"categories-DkxxMCQR.js","sources":["../../../../../../../components/CategoryCardAdmin.vue","../../../../../../../pages/admin/categories.vue"],"sourcesContent":["<template>\n    <div class=\"category-card-admin\">\n        <div class=\"category-card-admin__header\">\n            <span>Имя: {{ category.name }}</span>\n            <span>Slug: {{ category.slug }}</span>\n        </div>\n        <span>Количество сущностей: {{ category.resources.length }}</span>\n        <button class=\"category-card-admin__delete-button\" @click=\"deleteCategory\">\n            <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 32 32\" enable-background=\"new 0 0 32 32\" id=\"Stock_cut\" version=\"1.1\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n                <g>\n                    <polygon fill=\"none\" points=\"25,11 7,11 9,31    23,31  \" stroke=\"#ffffff\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/>\n                    <line fill=\"none\" stroke=\"#ffffff\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"4\" x2=\"28\" y1=\"11\" y2=\"11\"/>\n                    <line fill=\"none\" stroke=\"#ffffff\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"13\" x2=\"13\" y1=\"31\" y2=\"14\"/>\n                    <line fill=\"none\" stroke=\"#ffffff\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"19\" x2=\"19\" y1=\"31\" y2=\"14\"/>\n                    <polyline fill=\"none\" points=\"13,11 13,7 19,7    19,11  \" stroke=\"#ffffff\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/>\n                </g>\n            </svg>\n        </button>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { categoryService } from '@/services/api/categories';\nimport type { CategoryResponse } from '@/types/api/category';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\nconst props = defineProps<{\n    category: CategoryResponse;\n}>();\n\nconst deleteCategory = async () => {\n     categoryService.delete(props.category.id).then(() => {\n        router.push('/admin/categories');\n    });\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n.category-card-admin {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    border: 1px solid #fff;\n    padding: 10px;\n    border-radius: 10px;\n    width: 300px;\n\n    &__header {\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n    }\n\n    &__delete-button {\n        background: none;\n        border: none;\n        cursor: pointer;\n    }\n}\n</style>","<template>\n    <div class=\"categories-page\">\n        <h1>Categories</h1>\n        <div class=\"categories-page__create-category\">\n            <input type=\"text\" class=\"categories-page__create-category-input\" v-model=\"newCategoryName\" placeholder=\"Название категории\" />\n            <input type=\"text\" class=\"categories-page__create-category-input\" v-model=\"newCategorySlug\" placeholder=\"Slug категории\" />\n            <button class=\"categories-page__add-button\" @click=\"addCategory\">\n                Add Category\n            </button>\n        </div>\n        <div class=\"categories-page__categories\">\n            <CategoryCardAdmin v-for=\"category in categories\" :key=\"category.id\" :category=\"category\" />\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { categoryService } from '@/services/api/categories';\nimport CategoryCardAdmin from '@/components/CategoryCardAdmin.vue';\nimport type { CategoryResponse } from '@/types/api/category';\n\nconst categories = ref<CategoryResponse[]>([]);\n\ndefinePageMeta({\n    layout: 'admin',\n    middleware: 'admin'\n});\n\nuseHead({\n    title: 'Категории',\n});\n\nconst newCategoryName = ref('');\nconst newCategorySlug = ref('');\n\nconst addCategory = async () => {\n    categoryService.create(newCategoryName.value, newCategorySlug.value).then(async () => {\n        categories.value = await categoryService.getAll().then(res => res.data);\n    });\n};\n\nonMounted(async () => {\n    categories.value = await categoryService.getAll().then(res => res.data);\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.categories-page {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    background-color: #081028;\n    height: 100%;\n    width: 100%;\n    color: #fff;\n\n    &__categories {\n        display: flex;\n        flex-direction: row;\n        gap: 20px;\n        flex-wrap: wrap;\n        width: 100%;\n    }\n}\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","category","categories","_unref","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0Be,cAAA;;mBAzBNA,eAAAC,WAAA,EAAA,OAAM,yBAAqB,MAAA,CAAA,yGAEVC,eAAAA,KAAAA,SAAS,IAAI,uCACZA,eAAAA,KAAAA,SAAS,IAAI,4EAEDA,KAAAA,SAAS,UAAU,MAAM;;;;;;;;;;;;;;;ACehE,UAAMC,cAAa,IAAwB,EAAE;AAO7C,YAAQ;AAAA,MACJ,OAAO;AAAA,IAAA,CACV;AAED,UAAM,kBAAkB,IAAI,EAAE;AAC9B,UAAM,kBAAkB,IAAI,EAAE;;mBAhCrBH,eAAAC,WAAA,EAAA,OAAM,qBAAiB,MAAA,CAAA,8MAGuDG,MAAA,eAAA,CAAe,8IACfA,MAAA,eAAA,CAAe;AAMpDC,oBAAAD,MAAAD,WAAA,IAAZ,aAAQ;;UAAiB,KAAK,SAAS;AAAA,UAAK;AAAA,QAAA;;;;;;;;;;;;;"}