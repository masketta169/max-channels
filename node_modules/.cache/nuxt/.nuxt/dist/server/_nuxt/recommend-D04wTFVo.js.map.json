{"file":"recommend-D04wTFVo.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CiB,QAAI;AAAA,MACjB,SAAS;AAAA,MACT,UAAU;AAAA,MACV,UAAU;AAAA,IAAA,CACb;;mBA9CQA,eAAAC,WAAA,EAAA,OAAM,mBAAA,GAAkB,MAAA,CAAA,mJAG4BC,eAAAA,CAAAA,KAAAA,SAAS,MAAI,wBAAA,CAAA,sBACnDA,eAAAA,KAAAA,SAAS,IAAI,wBAG2BA,eAAAA,CAAAA,KAAAA,SAAS,gBAAa,aAAA,WAAA,0BAAA,CAAA,sBAC9DA,eAAAA,KAAAA,SAAS,gBAAa,iBAAA,iBAAA,yGAM3B,OAAG,wBAA0BA,KAAAA,SAAS,SAAS,EAAA,mIAE9CA,eAAAA,KAAAA,SAAS,KAAK,wEAGmBA,eAAAA,KAAAA,SAAS,WAAW;;;;;;;;;;;;;;;ACWxE,YAAQ;AAAA,MACN,OAAO;AAAA,IACT,CAAC;AAED,UAAM,YAAY,IAAI,EAAE;AAExB,UAAM,mBAAmB,SAAS,MAAM;AACtC,aAAO,UAAU,MAAM,OAAO,cAAY,SAAS,SAAS,MAAM;AAAA,IACpE,CAAC;AACD,UAAM,sBAAsB,SAAS,MAAM;AACzC,aAAO,UAAU,MAAM,OAAO,cAAY,SAAS,SAAS,SAAS;AAAA,IACvE,CAAC;AACD,UAAM,kBAAkB,SAAS,MAAM;AACrC,aAAO,UAAU,MAAM,OAAO,cAAY,SAAS,SAAS,KAAK;AAAA,IACnE,CAAC;AAED,UAAM,iBAAiB,YAAY;AACjC,gBAAU,QAAQ,MAAM,gBAAgB,OAAM,EAAG,KAAK,SAAO,IAAI,IAAI;AAAA,IACvE;;AAhDO,YAAA,OAAAF,eAAAC,WAAA,EAAA,OAAM,0BAAsB,MAAA,CAAA,CAAA,kMAAA;AAKKE,oBAAA,iBAAA,QAAR,SAAI;;UAAuB,KAAK,KAAK;AAAA,UAAK,UAAU;AAAA,UAAO,qBAAmB;AAAA;;;AAInEA,oBAAA,oBAAA,QAAX,YAAO;;UAA0B,KAAK,QAAQ;AAAA,UAAK,UAAU;AAAA,UAAU,qBAAmB;AAAA;;;AAInFA,oBAAA,gBAAA,QAAP,QAAG;;UAAsB,KAAK,IAAI;AAAA,UAAK,UAAU;AAAA,UAAM,qBAAmB;AAAA;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","resource","_ssrRenderList"],"sources":["../../../../../../../components/RecommendedCard.vue","../../../../../../../pages/admin/recommend.vue"],"sourcesContent":["<template>\n    <div class=\"application-card\">\n        <div class=\"application-card__header\">\n            <div class=\"application-card__header-left\">\n                <span class=\"application-card__type\" :class=\"resource.type\">\n                    {{ resource.type }}\n                </span>\n\n                <span class=\"application-card__status\" :class=\"resource.isRecommended ? 'approved' : 'pending'\">\n                    {{ resource.isRecommended ? 'Рекомендован' : 'Не рекомендован' }}\n                </span>\n                <!-- <StatusApplication :status=\"application.status\" /> -->\n            </div>\n        </div>\n        <div class=\"application-card__avatar-container\">\n            <img :src=\"`http://localhost:3001${resource.avatarUrl}`\" alt=\"Application Avatar\" class=\"application-card__avatar\" />\n            <h3 class=\"application-card__title\">\n                {{ resource.title }}\n            </h3>\n        </div>\n        <p class=\"application-card__description\">{{ resource.description }}</p>\n        <div class=\"application-card__footer\">\n            <button class=\"application-card__button approve\" @click=\"approveApplication\">Сделать рекомендованным</button>\n            <button class=\"application-card__button reject\" @click=\"rejectApplication\">Убрать из рекомендованных</button>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport type { SubmissionResponse } from '@/types/api/submissions';\nimport StatusApplication from '@/components/StatusApplication.vue';\nimport { ref } from 'vue';\nimport { submissionService } from '@/services/api/submissions';\nimport { resourceService } from '@/services/api/resources';\n\nconst emit = defineEmits(['changeRecommended']);\n\nenum Status {\n    PENDING = 'PENDING',\n    APPROVED = 'APPROVED',\n    REJECTED = 'REJECTED',\n}\n\nconst statuses = ref({\n    PENDING: 'Ожидание',\n    APPROVED: 'Одобрено',\n    REJECTED: 'Отклонено',\n});\n\nconst props = defineProps<{ \n    resource: SubmissionResponse;\n}>();\n\nconst approveApplication = async () => {\n    await resourceService.changeRecommended(props.resource.id, true);\n    emit('changeRecommended');\n}\n\n\nconst rejectApplication = () => {\n    resourceService.changeRecommended(props.resource.id, false);\n    emit('changeRecommended');\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.application-card {\n    border: 1px solid #ccc;\n    padding: 10px;\n    margin: 10px;\n    background-color: #0B1739;\n    border-radius: 12px;\n    border: 1px solid #343B4F;\n    width: 300px;\n\n    &__header-left {\n        display: flex;\n        flex-direction: row;\n        align-items: flex-start;\n        justify-content: space-between;\n    }\n\n    &__type {\n        font-size: 16px;\n        padding: 10px 0px;\n\n        &.CHANNEL {\n            color: #CB3CFF;\n        }\n\n        &.BOT {\n            color: #00C2FF;\n        }\n\n        &.CHAT {\n            color: #0038FF;\n        }\n    }\n\n    &__title {\n        font-size: 24px;\n        padding: 10px 0px;\n    }\n\n    &__description {\n        font-size: 16px;\n        padding: 10px 0px;\n    }\n\n    &__footer {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n\n        &.LOAN {\n            color: #FF5A65;\n        }\n        justify-content: space-between;\n        gap: 20px;\n        margin-top: 20px;\n    }\n\n    &__button {\n        width: 100%;\n        height: 40px;\n        border-radius: 12px;\n        font-size: 12px;\n        cursor: pointer;\n    }\n\n\n\n    &__button.approve {\n        background-color: rgba(#14CA74, 0.2);\n        color: #14CA74;\n        border: 1px solid #14CA74;\n    }\n\n    &__button.reject {\n        background-color: rgba(#FF5A65, 0.2);\n        color: #FF5A65;\n        border: 1px solid #FF5A65;\n    }\n\n    &__avatar-container {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        gap: 10px;\n    }\n\n    &__avatar {\n        width: 60px;\n        height: 60px;\n        border-radius: 100%;\n    }\n}\n\n\n\n</style>","<template>\n  <div class=\"admin-recommend-page\">\n    <h1>Рекомендации</h1>\n    <div class=\"recommended-cards\">\n      <div class=\"recommended-cards__chats\">\n        <h2>Чаты</h2>\n        <RecommendedCard v-for=\"chat in chatsRecommended\" :key=\"chat.id\" :resource=\"chat\" @changeRecommended=\"fetchResources\" />\n      </div>\n      <div class=\"recommended-cards__channels\">\n        <h2>Каналы</h2>\n        <RecommendedCard v-for=\"channel in channelsRecommended\" :key=\"channel.id\" :resource=\"channel\" @changeRecommended=\"fetchResources\" />\n      </div>\n      <div class=\"recommended-cards__bots\">\n        <h2>Боты</h2>\n        <RecommendedCard v-for=\"bot in botsRecommended\" :key=\"bot.id\" :resource=\"bot\" @changeRecommended=\"fetchResources\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { resourceService } from '@/services/api/resources';\nimport RecommendedCard from '@/components/RecommendedCard.vue';\nimport { useHead } from '#app';\nimport { computed, ref, onMounted } from 'vue';\n\ndefinePageMeta({\n  middleware: 'admin',\n  layout: 'admin',\n});\n\nuseHead({\n  title: 'Рекомендации',\n});\n\nconst resources = ref([]);\n\nconst chatsRecommended = computed(() => {\n  return resources.value.filter(resource => resource.type === 'CHAT')\n});\nconst channelsRecommended = computed(() => {\n  return resources.value.filter(resource => resource.type === 'CHANNEL')\n});\nconst botsRecommended = computed(() => {\n  return resources.value.filter(resource => resource.type === 'BOT')\n});\n\nconst fetchResources = async () => {\n  resources.value = await resourceService.getAll().then(res => res.data);\n}\n\nonMounted(async () => {\n  await fetchResources();\n});\n\n\n</script>\n\n<style scoped>\n\n.admin-recommend-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background-color: #081028;\n  color: #fff;\n}\n\n.recommended-cards {\n  display: flex;\n  flex-direction: row;\n  align-items: start;\n  justify-content: start;\n  flex-wrap: wrap;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  gap: 20px;\n  overflow-y: auto;\n}\n\n</style>"],"version":3}