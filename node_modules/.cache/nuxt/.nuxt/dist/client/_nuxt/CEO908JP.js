import{r as R}from"./CsKoKHXI.js";import"./BJWXqVAu.js";import{g as k,r as y,c as r,o as t,a as e,q as g,t as l,_ as C,h as p,l as b,F as u,j as _,k as h}from"./Be8IngJE.js";import{u as A}from"./3miDZWqW.js";import"./JIQjd6e1.js";const E={class:"application-card"},$={class:"application-card__header"},B={class:"application-card__header-left"},N={class:"application-card__avatar-container"},j=["src"],D={class:"application-card__title"},w={class:"application-card__description"},H=k({__name:"RecommendedCard",props:{resource:{}},emits:["changeRecommended"],setup(f,{emit:c}){const d=c;y({PENDING:"Ожидание",APPROVED:"Одобрено",REJECTED:"Отклонено"});const i=f,m=async()=>{await R.changeRecommended(i.resource.id,!0),d("changeRecommended")},n=()=>{R.changeRecommended(i.resource.id,!1),d("changeRecommended")};return(s,a)=>(t(),r("div",E,[e("div",$,[e("div",B,[e("span",{class:g(["application-card__type",s.resource.type])},l(s.resource.type),3),e("span",{class:g(["application-card__status",s.resource.isRecommended?"approved":"pending"])},l(s.resource.isRecommended?"Рекомендован":"Не рекомендован"),3)])]),e("div",N,[e("img",{src:`https://max-community.ru${s.resource.avatarUrl}`,alt:"Application Avatar",class:"application-card__avatar"},null,8,j),e("h3",D,l(s.resource.title),1)]),e("p",w,l(s.resource.description),1),e("div",{class:"application-card__footer"},[e("button",{class:"application-card__button approve",onClick:m},"Сделать рекомендованным"),e("button",{class:"application-card__button reject",onClick:n},"Убрать из рекомендованных")])]))}}),v=Object.assign(C(H,[["__scopeId","data-v-8299b877"]]),{__name:"RecommendedCard"}),I={class:"admin-recommend-page"},O={class:"recommended-cards"},P={class:"recommended-cards__chats"},T={class:"recommended-cards__channels"},F={class:"recommended-cards__bots"},L={__name:"recommend",setup(f){A({title:"Рекомендации"});const c=y([]),d=p(()=>c.value.filter(s=>s.type==="CHAT")),i=p(()=>c.value.filter(s=>s.type==="CHANNEL")),m=p(()=>c.value.filter(s=>s.type==="BOT")),n=async()=>{c.value=await R.getAll().then(s=>s.data)};return b(async()=>{await n()}),(s,a)=>(t(),r("div",I,[a[3]||(a[3]=e("h1",null,"Рекомендации",-1)),e("div",O,[e("div",P,[a[0]||(a[0]=e("h2",null,"Чаты",-1)),(t(!0),r(u,null,_(d.value,o=>(t(),h(v,{key:o.id,resource:o,onChangeRecommended:n},null,8,["resource"]))),128))]),e("div",T,[a[1]||(a[1]=e("h2",null,"Каналы",-1)),(t(!0),r(u,null,_(i.value,o=>(t(),h(v,{key:o.id,resource:o,onChangeRecommended:n},null,8,["resource"]))),128))]),e("div",F,[a[2]||(a[2]=e("h2",null,"Боты",-1)),(t(!0),r(u,null,_(m.value,o=>(t(),h(v,{key:o.id,resource:o,onChangeRecommended:n},null,8,["resource"]))),128))])])]))}},J=C(L,[["__scopeId","data-v-03c5c2b4"]]);export{J as default};
